<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>Iho - Music Player</title>
  <!-- JS -->
  <script src="js/APlayer.min.js"></script>
  <script type="text/javascript" src="js/color-thief.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.css"></script>
  <!-- CSS -->
  <link rel="stylesheet" href="css/APlayer.min.css">
  <link rel="stylesheet" href="css/style.css">
  <!-- META -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
  <div class="container">

    <div id="aplayer"></div>

    <script type="text/javascript">
      const ap = new APlayer({
        container: document.getElementById('aplayer'),
        mini: false,
        autoplay: false,
        theme: '#FADFA3',
        loop: 'all',
        order: 'random',
        preload: 'auto',
        volume: 0.7,
        mutex: true,
        listFolded: false,
        listMaxHeight: 90,
        lrcType: 3,
        audio: [{
            name: 'Koisuru Fortune Cookie/คุกกี้เสี่ยงทาย',
            artist: 'BNK48',
            url: '1.mp3',
            cover: 'cover.jpg',
            lrc: 'lrc1.lrc'
          },
          {
            name: 'ฺBNK48',
            artist: 'BNK48',
            url: '2.mp3',
            cover: 'cover.jpg',
            lrc: 'lrc2.lrc'
          },
          {
            name: 'Skirt, Hirari/พลิ้ว',
            artist: 'BNK48',
            url: '3.mp3',
            cover: 'cover.jpg',
            lrc: 'lrc2.lrc'
          },
          {
            name: 'Koisuru Fortune Cookie/คุกกี้เสี่ยงทาย (Instrumental)',
            artist: 'BNK48',
            url: '4.mp3',
            cover: 'cover.jpg',
            lrc: 'lrc2.lrc'
          },
          {
            name: 'BNK48 (Instrumental)',
            artist: 'BNK48',
            url: '5.mp3',
            cover: 'cover.jpg',
            lrc: 'lrc2.lrc'
          },
          {
            name: 'Skirt, Hirari/พลิ้ว (Instrumental)',
            artist: 'BNK48',
            url: '6.mp3',
            cover: 'cover.jpg',
            lrc: 'lrc2.lrc'
          },
        ]
      });

      const colorThief = new ColorThief();
      const setTheme = (index) => {
        if (!ap.list.audios[index].theme) {
          colorThief.getColorAsync(ap.list.audios[index].cover, function(color) {
            ap.theme(`rgb(${color[0]}, ${color[1]}, ${color[2]})`, index);
          });
        }
      };
      setTheme(ap.list.index);
      ap.on('listswitch', (data) => {
        setTheme(data.index);
      });
    </script>
  </div>
</body>

</html>
